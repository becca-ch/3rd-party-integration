## 商品同步
### 1.实时商品信息同步
#### 1.1 接口描述
* 商户开站成功后，通过接口自动同步商品信息
* 商品信息可以与线上系统商户商品库的商编匹配，则根据商编更新该商品信息
* 商品信息无法与线上系统商户商品库的商编匹配，则优先以条形码匹配线上系统标准库，如果条形码无法匹配，则以批准文号匹配标准库，如果都无法匹配到标准库，则在线上系统商户商品库创建新的商品信息。
#### 1.2 请求方式
> POST
#### 1.3 url
* 线上系统：
> /goods/single
#### 1.4 数据方向
> ERP->线上系统
#### 1.5 请求参数
| 参数名称 | 参数类型 | 是否必须 | 示例值 | 参数描述  |
| :---         |     :---      |     :--- | :--- | :--- |
| siteId | Integer | 是 | 100320 | 商户开站id |
| goodsCode | String | 是 | 343434 | 商品编码 |
| approvalNumber | String | 是 | 11112222 | 批准文号 |
| commonName | String | 是 | 蛋白粉 | 商品通用名 | 
| drugName | String | 是 | 蛋白粉 | 商品名 | 
| specification | String | 是 | 10mg*30片 | 规格(10mg*30片) | 
| goodsCompany | String | 是 | 曼秀雷敦药业有限公司 | 生产企业 | 
| brandName | String | 否 | 哈六 | 品牌名称 | 
| drugCategory | Integer | 是 | 110 | 类别: <br/>110(甲类非处方药)，<br/>120(已类非处方药)，<br/>130(处方药)，<br/>140(双轨药)，<br/>150(非方剂)，<br/>160(方剂)，<br/>170(一类)，<br/>180(二类)，<br/>190(三类) | 
| goodsProperty | Integer | 否 | 110 | 药品属性:<br/>110(化学药制剂),<br/>120(中成药),<br/>130(生物制品),<br/>140(抗生素),1<br/>50(中药材),<br/>160(中药饮片),<br/>170(复方制剂),<br/>9999(其他),<br/>180(根茎类),<br/>190(茎木类),<br/>200(皮类),<br/>210(叶类),<br/>220(花类),<br/>230(全草类),<br/>240(果实种子类),<br/>250(矿物类),<br/>260(动物类) | 
| goodsForts | Integer | 否 | 110 | 剂型:<br/>110片剂 <br/>120胶囊 <br/>130丸剂 <br/>140颗粒 <br/>150液体 <br/>160膏剂 <br/>170贴剂 <br/>180糖浆 <br/>190散剂 <br/>200栓剂 <br/>210喷雾 <br/>220溶液剂 <br/>230乳剂 <br/>240混悬剂 <br/>250气雾剂 <br/>260粉雾剂 <br/>270洗剂 <br/>280搽剂 <br/>290糊剂 <br/>300凝胶剂 <br/>310滴眼剂 <br/>320滴鼻剂 <br/>330滴耳剂 <br/>340眼膏剂 <br/>350含漱剂 <br/>360舌下片剂 <br/>370粘贴片 <br/>380贴膜剂 <br/>390滴剂 <br/>400滴丸剂 <br/>410芳香水剂 <br/>420甘油剂 <br/>430醑剂 <br/>440注射剂 <br/>450涂膜剂 460合剂 <br/>470酊剂 <br/>480膜剂 <br/>9999其他 | 
| goodsValidity | Integer | 否 | 12 | 有效期(月) | 
| goodsUse | String | 否 | 110,120 | 使用方法: <br/>110(口服), <br/>120(外用), <br/>130(注射), <br/>140(含服), <br/>9999(其他) | 
| goodsForpeople | String | 否 | 120,150 | 适用人群：<br/>110(不限)， <br/>120(成人)，<br/>130(婴幼儿)，<br/>140(儿童)，<br/>150(男性)，<br/>160(妇女) ，<br/>170 (中老年) | 
| isMedicare | Integer | 否 | 1 | 是否医保 1=非医保, 2=甲类医保, 3=乙类医保 | 
| medicareCode | String | 否 | 1122332211 | 医保编码 | 
| barCode | String | 否 | 6917246200887 | 商品条形码 | 
| mainIngredient | String | 否 | 本品为复方制剂，<br/>其组份为每瓶含：<br/>薄荷脑135mg、<br/>樟脑900mg、<br/>水杨酸甲酯、桉油、<br/>松节油、凡士林。 | 药品主要成分/产品参数(非药品类) | 
| goodsIndications | String | 是 | 本品用于伤风感冒所致的鼻塞，<br/>昆虫叮咬，<br/>皮肤皲裂，<br/>轻度烧烫伤，<br/>擦伤、晒伤<br/>及皮肤瘙痒。 | 功能主治/功能介绍（非药品类) | 
| goodsAction | String | 否 | 本品具有消炎、止痛、和止痒作用。 | 药理作用/产品特色(非药品类) | 
| adverseReactioins | String | 是 | 偶见皮肤刺激症状 | 不良反应 | 
| goodsNote | String | 是 | 1、本品仅限于外用<br/>2、若伤风感冒常期未愈或同时有发烧者，<br/>不宜使用本品，应到医院诊治<br/>3、婴儿避免鼻孔使用及不宜长期使用。<br/>4、本品不宜大面积使用<br/>5、当药品性状发生改变时禁用<br/>6、儿童必须在成人的监护下使用<br/>7、请将本品放在儿童不能接触的地方 | 注意事项 | 
| goodsContd | String | 是 | 尚不明确 | 禁忌 | 
| goodsDeposit | String | 否 | 阴凉干燥处，密封保存 | 贮藏/存放（非药品类特有字段） | 
| goodsDescription | String | 否 | 【主要成份】<br/>本品为复方制剂，<br/>含水杨酸甲酯，<br/>樟脑90毫克，<br/>薄荷脑13.5毫克，<br/> ... | 商品说明书 | 
| cateName | String | 是 | 激素类（填入商品属于哪个种类，如中药或医药等） | 分类名称 | 
| goodsTitle | String | 是 | 曼秀雷敦薄荷膏28g | 商品标题（用户自定义）,字数限制在60-80 | 
| tagsName | String | 否 | 感冒，消炎，止痒 | 标签名 | 
| shopPrice | Integer | 是 | 1000 | 药房价格（以分为单位)）| 
| marketPrice | Integer | 否 | 1000 | 市场价格（以分为单位） | 
| costPrice | Integer | 否 | 800 | 成本价（以分为单位） | 
| inStock | Integer | 是 | 100 | 库存(件) | 
| goodsWeight | Integer | 是 | 28 | 重量(克) | 
| controlNum | Integer | 是 | 5 | 限购（n件）, 0为不限购 | 
--------------------- 
#### 1.5 返回参数
| 参数名称 | 参数类型 | 是否必须 | 示例值 | 参数描述  |
| :---         |     :---      |     :--- | :--- | :--- |
| code   | 字符串     | 是    | 10000    | 请求状态值，10000:成功;20000:失败 |
| msg   | 字符串    | 是    | 成功    | 成功或失败消息 |
| storeNumber   | 字符串    | 是    | 1192    | 门店编号 |
| goodsCode   | 字符串    | 是    | AW020785    | 商品编码 |
| drugName   | 字符串    | 是    | 复方黄松洗液    | 药品名称 |
| batchNumber   | 字符串    | 是    | AC321321    | 批号 |
| specification   | 字符串    | 否    | 200毫升    | 规格 |
| manufacturer   | 字符串    | 否    | 国药    | 生产商家 |
| accountQuantity   | 浮点    | 是    | 2.00   | 账面库存数，保留两位小数 |
| expiryDate   | 日期    | 否    | 2019-09-09   | 有效期 yyy-MM-dd |
--------------------- 
#### 1.6 返回成功(匹配到库存信息)
 ``` 
{
    "code" : 10000,
    "msg" : "成功"
    "data" : {
      "storeNumber" : "1192",
      "goodsList" : [{
      "goodsCode" : "AW020785",
      "drugName" : "复方黄松洗液",
      "batchNumber" : "AC321321",
      "specification" : "200毫升",
      "manufacturer" : "国药",
      "accountQuantity" : 2,
      "expiryDate" : "2019-09-09"
    },
    {
      "goodsCode" : "AW020786",
      "drugName" : "孟鲁司特钠片",
      "batchNumber" : "AC321322",
      "specification" : "10毫克×5片",
      "manufacturer" : "国药",
      "accountQuantity" : 12,
      "expiryDate" : "2020-09-09"
    }
    ]
    }
}
```
#### 1.7 请求失败
```
{
  "code": 20000,
  "msg" : "失败,相关原因"
}
```

